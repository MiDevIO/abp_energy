package com.misit.abpenergy.Inspeksi.Adapterimport android.content.Contextimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.widget.TextViewimport androidx.cardview.widget.CardViewimport androidx.recyclerview.widget.RecyclerViewimport com.misit.abpenergy.Inspeksi.Response.InpeksiItemimport com.misit.abpenergy.Rimport org.joda.time.LocalDateimport org.joda.time.format.DateTimeFormatimport org.joda.time.format.DateTimeFormatterimport java.text.SimpleDateFormatclass ALLInspectionAdapter(private var c: Context?,                           private val inspeksiList:MutableList<InpeksiItem>):    RecyclerView.Adapter<ALLInspectionAdapter.MyViewHolder>() {    private var onItemsClickListener: OnItemsClickListener? = null    private val layoutInflater: LayoutInflater    private var simpleDateFormat: SimpleDateFormat? = null    lateinit var view:View    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {        view = layoutInflater.inflate(R.layout.inspeksi_list,parent,false)        return MyViewHolder(view)    }    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {        val listInpeksi = inspeksiList[position]        val fmt: DateTimeFormatter = DateTimeFormat.forPattern("d MMMM, yyyy")        holder.tvNamaInspeksi.text = listInpeksi.namaForm        holder.tvTglInspeksi.text = LocalDate.parse(listInpeksi.tglInspeksi).toString(fmt)        holder.tvPerusahaan.text = listInpeksi.namaPerusahaan        holder.tvLokasiInspeksi.text = listInpeksi.lokasiInspeksi        holder.tvSaranInspeksi.text = listInpeksi.saran//        holder.tvStatus.text = listInpeksi.status        holder.tvNamaInspeksi.setBackgroundResource(R.color.bgTotal)        holder.tvTextSaran.setBackgroundResource(R.color.bgTotal)        holder.tvUserCrate.text = listInpeksi.namaLengkap        if(listInpeksi.flag==0){            holder.tvValidasi.setBackgroundResource(R.color.bgWaiting)            holder.tvValidasi.text = "Belum Disetujui Oleh Team Safety"        }else if (listInpeksi.flag==1){            holder.tvValidasi.setBackgroundResource(R.color.bgApprove)            holder.tvValidasi.text = "Disetujui Oleh Team Safety"        }else{            holder.tvValidasi.setBackgroundResource(R.color.bgCancel)            holder.tvValidasi.text = "Tidak Disetujui Oleh Team Safety"        }        holder.cvInspeksiHeader.setOnClickListener {            onItemsClickListener?.onItemClick(                listInpeksi.idInspeksi!!,                listInpeksi.tglInspeksi!!,                listInpeksi.namaPerusahaan!!,                listInpeksi.lokasiInspeksi!!,                listInpeksi.saran!!,                listInpeksi.namaForm!!,                "${listInpeksi.idForm}")        }    }    override fun getItemCount(): Int {        return inspeksiList.size    }    class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {        var tvNamaInspeksi = itemView.findViewById<View>(R.id.tvNamaInspeksi) as TextView        var tvTglInspeksi = itemView.findViewById<View>(R.id.tvTglInspeksi) as TextView        var tvPerusahaan = itemView.findViewById<View>(R.id.tvPerusahaanPerusahaan) as TextView        var tvLokasiInspeksi = itemView.findViewById<View>(R.id.tvLokasiInspeksi) as TextView        var tvSaranInspeksi = itemView.findViewById<View>(R.id.tvSaranInspeksi) as TextView        var tvStatus = itemView.findViewById<View>(R.id.tvStatus) as TextView        var tvTextSaran = itemView.findViewById<View>(R.id.tvTextSaran) as TextView        var tvValidasi = itemView.findViewById<View>(R.id.tvValidasi) as TextView        var cvInspeksiHeader = itemView.findViewById<View>(R.id.cvInspeksiHeader) as CardView        var tvUserCrate = itemView.findViewById<View>(R.id.tvUserCrate) as TextView    }    interface OnItemsClickListener{        fun onItemClick(idInspeksi: String,tglInspeksi: String,ptInspeksi: String,lokInspeksi: String,saranInspeksi: String,namaInspeksi: String,idForm:String)    }    fun setListener (listeners: OnItemsClickListener){        onItemsClickListener = listeners    }    init {        layoutInflater = LayoutInflater.from(c)        simpleDateFormat= SimpleDateFormat("yyyy-MM-dd")    }}