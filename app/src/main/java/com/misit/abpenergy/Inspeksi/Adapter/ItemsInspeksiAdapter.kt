package com.misit.abpenergy.Inspeksi.Adapterimport android.content.Contextimport android.util.Logimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.widget.RadioButtonimport android.widget.RadioGroupimport android.widget.TextViewimport androidx.recyclerview.widget.RecyclerViewimport com.misit.abpenergy.Inspeksi.Response.ItemsInspeksiModelsimport com.misit.abpenergy.Inspeksi.SQLite.ItemDataSourceimport com.misit.abpenergy.Inspeksi.SQLite.ItemModelsimport com.misit.abpenergy.Rimport es.dmoral.toasty.Toastyimport java.text.SimpleDateFormatclass ItemsInspeksiAdapter(private var c: Context?,private var idForm:String,private var uniqueID:String,                           private val itemsList:MutableList<ItemsInspeksiModels>):    RecyclerView.Adapter<ItemsInspeksiAdapter.MyViewHolder>() {    private var onItemsClickListener: OnItemsClickListener? = null    private val layoutInflater: LayoutInflater    private var simpleDateFormat: SimpleDateFormat? = null    lateinit var view:View    private var yes:ArrayList<String>?=null    private var no:ArrayList<String>?=null    private var y =0    private var n =0    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {        yes = ArrayList()        no = ArrayList()        view = layoutInflater.inflate(R.layout.sub_inspeksi_items,parent,false)        return MyViewHolder(view)    }    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {        var listItems = itemsList[position]        holder.tvNumItem.text = "${position+1}"        holder.tvItems.text = listItems.listInspeksi        holder.rdItemInspeksi.setOnCheckedChangeListener{ group, checkedId ->            if(checkedId==holder.rbYes.id){                holder.rbNo.isEnabled = true                holder.rbYes.isEnabled=false                yes?.add(listItems.idList.toString())                if(no!!.size > 0){                    no?.remove(listItems.idList.toString())                }                y = yes!!.size                n = no!!.size                onItemsClickListener!!.onRadioClick(idForm,listItems.idList.toString(),uniqueID,1,holder,y,n,itemsList!!.size)            }            if(checkedId==holder.rbNo.id){//                var item = itemCounter.getItem(uniqueID!!)                holder.rbNo.isEnabled = false                holder.rbYes.isEnabled=true                no?.add(listItems.idList.toString())                if(yes!!.size > 0){                    yes?.remove(listItems.idList.toString())                }                y = yes!!.size                n = no!!.size                onItemsClickListener!!.onRadioClick(idForm,listItems.idList.toString(),uniqueID,0,holder,y,n,itemsList!!.size)            }        }    }    override fun getItemCount(): Int {        return itemsList.size    }    class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {        var tvItems = itemView.findViewById<View>(R.id.tvItems) as TextView        var rbYes = itemView.findViewById<View>(R.id.rbYes) as RadioButton        var rbNo = itemView.findViewById<View>(R.id.rbNo) as RadioButton        var rdItemInspeksi = itemView.findViewById<View>(R.id.rdItemInspeksi) as RadioGroup        var tvNumItem = itemView.findViewById<View>(R.id.tvNumItem) as TextView    }    interface OnItemsClickListener{        fun onRadioClick(idForm:String,idItem:String,uniqueID:String,option:Int,holder:MyViewHolder,yes:Int,no:Int,total:Int)    }    fun setListener (listeners: OnItemsClickListener){        onItemsClickListener = listeners    }    init {        layoutInflater = LayoutInflater.from(c)        simpleDateFormat= SimpleDateFormat("yyyy-MM-dd")    }}