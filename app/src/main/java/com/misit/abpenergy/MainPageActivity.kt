package com.misit.abpenergyimport android.content.Contextimport android.content.Intentimport android.graphics.Colorimport android.graphics.drawable.ColorDrawableimport android.os.Buildimport androidx.appcompat.app.AppCompatActivityimport android.os.Bundleimport android.os.Handlerimport android.view.LayoutInflaterimport android.view.Viewimport android.widget.ImageViewimport android.widget.TextViewimport androidx.appcompat.app.AlertDialogimport com.bumptech.glide.Glideimport com.misit.abpenergy.HomePage.IndexActivityimport com.misit.abpenergy.Login.LoginActivityimport com.misit.abpenergy.Master.ListUserActivityimport com.misit.abpenergy.Utils.ConfigUtilimport com.misit.abpenergy.Utils.PrefsUtilimport kotlinx.android.synthetic.main.activity_main.*import kotlinx.android.synthetic.main.menu_option.view.*import java.util.*class MainPageActivity : AppCompatActivity() {    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main_page)        dirInit(this@MainPageActivity)    }    private fun firstInstall(c:Context){        if(PrefsUtil.getInstance().getBooleanState("INTRO_APP",false)){            loadingAnimate()        }else{            startActivity(Intent(c,IntroActivity::class.java))            finish()        }    }    fun loadingAnimate(){        val runnable= {            var besar = progressHorizontal.progress            progressHorizontal.progress = besar + 100            if(besar<100){                loadingAnimate()            } else {                if(PrefsUtil.getInstance().getBooleanState("IS_LOGGED_IN", false))                {                    val intent = Intent(this, IndexActivity::class.java)                    startActivity(intent)                }                else                {                    val intent = Intent(this, LoginActivity::class.java)                    startActivity(intent)                }                finish()            }        }        Handler().postDelayed(runnable, 100)    }    private fun dirInit(c:Context){        Glide.with(this).load(R.drawable.abp).into(imageView)        PrefsUtil.initInstance(this)        ConfigUtil.changeColor(this)        ConfigUtil.deleteInABPIMAGES(this@MainPageActivity,"ABP_IMAGES")        ConfigUtil.createFolder(this@MainPageActivity,"ABP_IMAGES")        ConfigUtil.createFolder(this@MainPageActivity,"PROFILE_IMAGE")        ConfigUtil.createFolder(this@MainPageActivity,"HAZARD_TEMP")        ConfigUtil.createFolder(this@MainPageActivity,"HAZARD_OFFLINE")        firstInstall(c)    }    companion object {        private  var TAG="MainPageLog"    }}