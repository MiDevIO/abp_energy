package com.misit.abpenergy.Serviceimport android.app.IntentServiceimport android.content.Intentimport android.util.Logimport com.misit.abpenergy.Utils.PrefsUtilimport kotlinx.coroutines.GlobalScopeimport kotlinx.coroutines.launchclass BgTokenService :IntentService("BgTokenService"){    var TAG ="BgToken"    lateinit var getToken :GetToken    private var username:String?=null    override fun onHandleIntent(intent: Intent?) {        Log.d(TAG,"onHandleIntent")//        username = intent?.getStringExtra("username")        GlobalScope.launch {            getToken.getToken(this@BgTokenService,username!!,"LoadData","bgTokenService")        }    }    override fun onCreate() {        if(PrefsUtil.getInstance().getBooleanState("IS_LOGGED_IN", false)) {            username =                PrefsUtil.getInstance().getStringState(PrefsUtil.USER_NAME, "")        }        Log.d(TAG,"onCreate")        getToken = GetToken()        super.onCreate()    }    override fun onDestroy() {        Log.d(TAG,"onDestroy")        super.onDestroy()    }}