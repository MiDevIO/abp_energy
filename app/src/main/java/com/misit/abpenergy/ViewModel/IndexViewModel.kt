package com.misit.abpenergy.ViewModelimport android.content.Contextimport android.util.Logimport androidx.lifecycle.MutableLiveDataimport androidx.lifecycle.ViewModelimport com.misit.abpenergy.DataSource.DataUsersSourceimport com.misit.abpenergy.HomePage.IndexActivityimport com.misit.abpenergy.Model.DataUsersModelimport com.misit.abpenergy.Utils.PrefsUtilimport kotlinx.coroutines.GlobalScopeimport kotlinx.coroutines.asyncimport kotlinx.coroutines.launchclass IndexViewModel:ViewModel() {    lateinit var user:MutableLiveData<DataUsersModel>    lateinit var dataUserDatasource: DataUsersSource    init {        user = MutableLiveData()    }    fun getUserObserver() :MutableLiveData<DataUsersModel>{        return user    }    fun loadUser(c:Context,nik:String){        dataUserDatasource = DataUsersSource(c)        GlobalScope.launch {            val deferred = async {                dataUserDatasource.getItem(nik)            }            val result = deferred.await()            if(result!=null){                user.postValue(result)            }else{                user.postValue(null)            }        }    }    companion object{        var NIK = "NIK"    }}