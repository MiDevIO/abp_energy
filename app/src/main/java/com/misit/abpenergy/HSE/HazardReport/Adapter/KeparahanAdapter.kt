package com.misit.abpenergy.HSE.HazardReport.Adapterimport android.content.Contextimport android.graphics.Colorimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.widget.Buttonimport android.widget.TextViewimport androidx.cardview.widget.CardViewimport androidx.recyclerview.widget.LinearLayoutManagerimport androidx.recyclerview.widget.RecyclerViewimport com.misit.abpenergy.HSE.HazardReport.Response.DetKeparahanItemimport com.misit.abpenergy.HSE.HazardReport.Response.KeparahanItemFullimport com.misit.abpenergy.Rclass KeparahanAdapter(private val c: Context?,                       private var keparahanDipilih: String?,                       private val keparahanList:MutableList<KeparahanItemFull>):    RecyclerView.Adapter<KeparahanAdapter.MyViewHolder>() {    private var onItemClickListener: OnItemClickListener? = null    private val layoutInflater: LayoutInflater    private var idDipilih:Int?=null    lateinit var view:View    private var itemAdapter: DetKeparahanAdapater? = null    private var detKeparahanList:MutableList<DetKeparahanItem>?=null    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {        view = layoutInflater.inflate(R.layout.keparahan,parent,false)        return MyViewHolder(view)    }    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {        var keparahanList =keparahanList[position]        holder.tvValue.text = keparahanList.keparahan        holder.tvNilai.text = keparahanList.nilai.toString()        if(keparahanDipilih==keparahanList.keparahan){            holder.tvValue.setTextColor(Color.parseColor("#FFFFFF"))            holder.tvNilai.setTextColor(Color.parseColor("#FFFFFF"))            holder.tvTXTnilai.setTextColor(Color.parseColor("#FFFFFF"))            holder.tvStrKeparahan.setTextColor(Color.parseColor("#FFFFFF"))            holder.lnPilih.setBackgroundColor(Color.parseColor("#4F8E50"))            holder.btKeparahan.visibility=View.GONE            idDipilih=keparahanList.idKeparahan        }else{            holder.btKeparahan.visibility=View.VISIBLE            holder.tvValue.setTextColor(Color.parseColor("#4F8E50"))            holder.tvNilai.setTextColor(Color.parseColor("#4F8E50"))            holder.tvTXTnilai.setTextColor(Color.parseColor("#4F8E50"))            holder.tvStrKeparahan.setTextColor(Color.parseColor("#4F8E50"))            holder.lnPilih.setBackgroundColor(Color.parseColor("#FFFFFF"))        }        holder.btKeparahan.setOnClickListener{            onItemClickListener?.onItemClick(keparahanList.idKeparahan.toString(),keparahanList.keparahan!!,keparahanList.nilai)        }        detKeparahanList = keparahanList.listKet        holder.rvDetKeparahan.layoutManager = LinearLayoutManager(c,            LinearLayoutManager.VERTICAL,false)        holder.rvDetKeparahan.layoutManager        holder.rvDetKeparahan.isNestedScrollingEnabled =false        itemAdapter = DetKeparahanAdapater(c,detKeparahanList,idDipilih)        holder.rvDetKeparahan.adapter = itemAdapter        itemAdapter?.notifyDataSetChanged()    }    override fun getItemCount(): Int {        return keparahanList.size    }    class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {        var lnPilih = itemView.findViewById<View>(R.id.lnPilihCustom) as CardView        var tvNilai = itemView.findViewById<View>(R.id.tvNilai) as TextView        var tvTXTnilai = itemView.findViewById<View>(R.id.tvTXTnilai) as TextView        var tvValue = itemView.findViewById<View>(R.id.tvValue) as TextView        var rvDetKeparahan = itemView.findViewById<View>(R.id.rvDetKeparahan) as RecyclerView        var btKeparahan = itemView.findViewById<View>(R.id.btKeparahan) as Button        var tvStrKeparahan = itemView.findViewById<View>(R.id.tvStrKeparahan) as TextView    }    interface OnItemClickListener{        fun onItemClick(uid:String,keparahan:String,nilai:Int?)    }    fun setListener (listener: OnItemClickListener){        onItemClickListener = listener    }    init {        layoutInflater = LayoutInflater.from(c)    }}